<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA_Compatible" content="IE=edge">
	<title>Personal Expense</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="main.css">
</head>
<header>
	PERSONAL EXPENSE WEBAPP
</header>
<body>
	
	<h3 id="amount">Amount</h3>
	<input id="inputAmount" type="text">
	<br>
	<h3 id="description">Description</h3>
	<input id="descElement" type="text">
	<br>
	<div class="button">
		<button id="btnAddExpense">Add</button>
		<button id="btnReset">Reset</button>
	</div>
	<h2>Total Expense:</h2>
	<h3 id="headingTotal">0</h3>
	<br>
	<div id="expenseTable"></div>
	<script>
		//get the heading element
		const headingEl=document.querySelector("#headingTotal");
		//get the description of the element
		const inputDescEl=document.querySelector("#descElement");
		//get the add button selector
		const element=document.querySelector("#btnAddExpense");
		//get the reset button selector
		const res=document.querySelector("#btnReset");
		//select the inputAmount text selector
		const inputElement=document.querySelector("#inputAmount");
		//get the ref to table
		const expenseTableEl=document.querySelector("#expenseTable");
		//initialize total expense to zero initially
		let totalExpense = 0;
		//set the heading element to totalExpense
		headingEl.textContent=totalExpense;
		//all expenses at One Place
		const allExpenses=[];
		//onButtonClick add inputAmount to TotalExpense
		function addExpenseToTotal()
		{
			//creating empty object
			const expenseItem={};
			//read value from inputAmount
			const textAmount=inputElement.value;
			//convert it into number
			const expense=parseInt(textAmount, 10);
			//read the description from inputDesc
			const textDesc=inputDescEl.value;
			//put it in an object with attributes desc and amount
			expenseItem.desc=textDesc;
			expenseItem.amount=expense;
			allExpenses.push(expenseItem);
			//add that value to total expense
			totalExpense+=expense;
			//writing some templates
			const someText=`The expense for this month is : ${totalExpense}`;
			//set the heading content to total expense
			headingEl.textContent=totalExpense;
			//show the table here
			const allExpenseHTML = allExpenses.map(expense => {					return `<div class="menu"> ${expense.desc} :: ${expense.amount} </div>`
			});

			const final_string=allExpenseHTML.join("");
			expenseTableEl.innerHTML=final_string;
		}
		function resetText()
		{
			headingEl.textContent=0;
			document.getElementById("inputAmount").value="0";
			document.getElementById("descElement").value="";
			totalExpense=0;
			expenseTableEl.innerHTML="";
		}
		
  		element.addEventListener("click",addExpenseToTotal,false);
		res.addEventListener("click",resetText,false);

	</script>
</body>
</html>